<!doctype html>
<html>
<head><meta charset="utf-8"><title>Admin Login</title><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../style.css"></head>
<body>
<header class="site-header"><div class="container"><h1>Admin â€” My Master Fashion</h1></div></header>
<main class="container">
  <h2>Admin Login</h2>
  <form id="login">
    <input id="username" placeholder="Username"><br>
    <input id="password" placeholder="Password" type="password"><br>
    <button type="submit">Login</button>
  </form>
  <div id="msg"></div>
</main>
<script>
document.getElementById('login').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const username = document.getElementById('username').value;
  const password = document.getElementById('password').value;
  const res = await fetch('https://my-master-fashion-backend.onrender.com/admin/login',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({username,password})});
  if(res.ok){
    const data = await res.json();
    localStorage.setItem('token', data.token);
    location.href = 'panel.html';
  } else {
    document.getElementById('msg').innerText = 'Login failed';
  }
});
</script>
</body>
</html>
